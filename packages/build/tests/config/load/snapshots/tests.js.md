# Snapshot report for `packages/build/tests/config/load/tests.js`

The actual snapshot is saved in `tests.js.snap`.

Generated by [AVA](https://ava.li).

## --config with a Node module

> Snapshot 1

    `> Starting Netlify Build v1.0.0␊
      https://github.com/netlify/build␊
    ␊
    Flags␊
    { config: 'netlify-config-test' }␊
    ␊
    > Using config file: /file/path␊
    ␊
    ␊
    > Loading plugins␊
      Loading plugin "@netlify/plugin-functions-core" from build core␊
      Loading plugin "@netlify/plugin-cache-core" from build core␊
    ␊
    > Running Netlify Build Lifecycle␊
      Found 1 command. Lets do this!␊
    ␊
    ┌────────────────────────────────────────────────────────────────┐␊
    │ 1. Running onSaveCache command from @netlify/plugin-cache-core │␊
    └────────────────────────────────────────────────────────────────┘␊
    ␊
    > Caching artifacts␊
    ␊
     √  @netlify/plugin-cache-core.onSaveCache completed in 1ms␊
    ␊
    ┌─────────────────────────────┐␊
    │   Netlify Build Complete    │␊
    └─────────────────────────────┘␊
    ␊
     √  Netlify Build completed in 1ms␊
    ␊
    Have a nice day!␊
    `

## --config with a directory without permissions

> Snapshot 1

    `> Starting Netlify Build v1.0.0␊
      https://github.com/netlify/build␊
    ␊
    > No config file was defined: using default values.␊
    ␊
    ┌─────────────────────────────┐␊
    │     Netlify Build Error     │␊
    └─────────────────────────────┘␊
    ␊
    Error: Wrong permissions on the base directory /␊
    STACK TRACE␊
    `

## --config with a relative path

> Snapshot 1

    `> Starting Netlify Build v1.0.0␊
      https://github.com/netlify/build␊
    ␊
    Flags␊
    { config: '/file/path' }␊
    ␊
    > Using config file: /file/path␊
    ␊
    ␊
    > Loading plugins␊
      Loading plugin "@netlify/plugin-functions-core" from build core␊
      Loading plugin "@netlify/plugin-cache-core" from build core␊
    ␊
    > Running Netlify Build Lifecycle␊
      Found 1 command. Lets do this!␊
    ␊
    ┌────────────────────────────────────────────────────────────────┐␊
    │ 1. Running onSaveCache command from @netlify/plugin-cache-core │␊
    └────────────────────────────────────────────────────────────────┘␊
    ␊
    > Caching artifacts␊
    ␊
     √  @netlify/plugin-cache-core.onSaveCache completed in 1ms␊
    ␊
    ┌─────────────────────────────┐␊
    │   Netlify Build Complete    │␊
    └─────────────────────────────┘␊
    ␊
     √  Netlify Build completed in 1ms␊
    ␊
    Have a nice day!␊
    `

## --config with a scoped Node module

> Snapshot 1

    `> Starting Netlify Build v1.0.0␊
      https://github.com/netlify/build␊
    ␊
    Flags␊
    { config: '@netlify/config-test' }␊
    ␊
    > Using config file: /file/path␊
    ␊
    ␊
    > Loading plugins␊
      Loading plugin "@netlify/plugin-functions-core" from build core␊
      Loading plugin "@netlify/plugin-cache-core" from build core␊
    ␊
    > Running Netlify Build Lifecycle␊
      Found 1 command. Lets do this!␊
    ␊
    ┌────────────────────────────────────────────────────────────────┐␊
    │ 1. Running onSaveCache command from @netlify/plugin-cache-core │␊
    └────────────────────────────────────────────────────────────────┘␊
    ␊
    > Caching artifacts␊
    ␊
     √  @netlify/plugin-cache-core.onSaveCache completed in 1ms␊
    ␊
    ┌─────────────────────────────┐␊
    │   Netlify Build Complete    │␊
    └─────────────────────────────┘␊
    ␊
     √  Netlify Build completed in 1ms␊
    ␊
    Have a nice day!␊
    `

## --config with an absolute path

> Snapshot 1

    `> Starting Netlify Build v1.0.0␊
      https://github.com/netlify/build␊
    ␊
    Flags␊
    { config: '/file/path' }␊
    ␊
    > Using config file: /file/path␊
    ␊
    ␊
    > Loading plugins␊
      Loading plugin "@netlify/plugin-functions-core" from build core␊
      Loading plugin "@netlify/plugin-cache-core" from build core␊
    ␊
    > Running Netlify Build Lifecycle␊
      Found 1 command. Lets do this!␊
    ␊
    ┌────────────────────────────────────────────────────────────────┐␊
    │ 1. Running onSaveCache command from @netlify/plugin-cache-core │␊
    └────────────────────────────────────────────────────────────────┘␊
    ␊
    > Caching artifacts␊
    ␊
     √  @netlify/plugin-cache-core.onSaveCache completed in 1ms␊
    ␊
    ┌─────────────────────────────┐␊
    │   Netlify Build Complete    │␊
    └─────────────────────────────┘␊
    ␊
     √  Netlify Build completed in 1ms␊
    ␊
    Have a nice day!␊
    `

## --config with an invalid Node module

> Snapshot 1

    `> Starting Netlify Build v1.0.0␊
      https://github.com/netlify/build␊
    ␊
    Flags␊
    { config: 'invalid' }␊
    ␊
    ␊
    ┌─────────────────────────────┐␊
    │     Netlify Build Error     │␊
    └─────────────────────────────┘␊
    ␊
    Error: Configuration file does not exist: invalid␊
    Cannot find module 'invalid' from 'internal'␊
    STACK TRACE␊
    `

## --config with an invalid relative path

> Snapshot 1

    `> Starting Netlify Build v1.0.0␊
      https://github.com/netlify/build␊
    ␊
    Flags␊
    { config: '/file/path' }␊
    ␊
    ␊
    ┌─────────────────────────────┐␊
    │     Netlify Build Error     │␊
    └─────────────────────────────┘␊
    ␊
    Error: Configuration file does not exist: /file/path␊
    STACK TRACE␊
    `

## --config with an invalid scoped Node module

> Snapshot 1

    `> Starting Netlify Build v1.0.0␊
      https://github.com/netlify/build␊
    ␊
    Flags␊
    { config: '@netlify/invalid' }␊
    ␊
    ␊
    ┌─────────────────────────────┐␊
    │     Netlify Build Error     │␊
    └─────────────────────────────┘␊
    ␊
    Error: Configuration file does not exist: @netlify/invalid␊
    Cannot find module '@netlify/invalid' from 'internal'␊
    STACK TRACE␊
    `

## Can define configuration as environment variables

> Snapshot 1

    `> Starting Netlify Build v1.0.0␊
      https://github.com/netlify/build␊
    ␊
    Flags␊
    { config: '/file/path' }␊
    ␊
    > Using config file: /file/path␊
    ␊
    ␊
    > Loading plugins␊
      Loading plugin "@netlify/plugin-functions-core" from build core␊
      Loading plugin "@netlify/plugin-cache-core" from build core␊
    ␊
    > Running Netlify Build Lifecycle␊
<<<<<<< HEAD
      Found 3 commands. Lets do this!␊
    ␊
    ┌───────────────────────────────────────────────────────────────────────────┐␊
    │ 1. Running build.lifecycle.onInstall command from netlify.yml config file │␊
    └───────────────────────────────────────────────────────────────────────────┘␊
    ␊
    Running command "echo onInstall"␊
    onInstall␊
    ␊
     √  build.lifecycle.onInstall completed in 1ms␊
    ␊
    ┌─────────────────────────────────────────────────────────────────────────┐␊
    │ 2. Running build.lifecycle.onBuild command from netlify.yml config file │␊
    └─────────────────────────────────────────────────────────────────────────┘␊
    ␊
    Running command "echo onBuild"␊
    onBuild␊
    ␊
     √  build.lifecycle.onBuild completed in 1ms␊
    ␊
    ┌────────────────────────────────────────────────────────────────┐␊
    │ 3. Running onSaveCache command from @netlify/plugin-cache-core │␊
    └────────────────────────────────────────────────────────────────┘␊
    ␊
    > Caching artifacts␊
    ␊
     √  @netlify/plugin-cache-core.onSaveCache completed in 1ms␊
    ␊
    ┌─────────────────────────────┐␊
    │   Netlify Build Complete    │␊
    └─────────────────────────────┘␊
=======
      Found 3 steps. Lets do this!␊
>>>>>>> test: update snapshots
    ␊
    ┌──────────────────────────────────────────────────────────────────────────────────────────┐␊
    │ 1. Running onInstall lifecycle from build.lifecycle.onInstall in netlify.yml config file │␊
    └──────────────────────────────────────────────────────────────────────────────────────────┘␊
    ␊
<<<<<<< HEAD
    Have a nice day!␊
    `

## Empty configuration

> Snapshot 1

    `> Starting Netlify Build v1.0.0␊
      https://github.com/netlify/build␊
    ␊
    Flags␊
    { config: '/file/path' }␊
    ␊
    > Using config file: /file/path␊
=======
    Running command "echo onInstall"␊
    onInstall␊
    ␊
     √  build.lifecycle.onInstall completed in 1ms␊
>>>>>>> test: update snapshots
    ␊
    ┌──────────────────────────────────────────────────────────────────────────────────────┐␊
    │ 2. Running onBuild lifecycle from build.lifecycle.onBuild in netlify.yml config file │␊
    └──────────────────────────────────────────────────────────────────────────────────────┘␊
    ␊
    Running command "echo onBuild"␊
    onBuild␊
    ␊
<<<<<<< HEAD
    > Running Netlify Build Lifecycle␊
      Found 1 command. Lets do this!␊
    ␊
    ┌────────────────────────────────────────────────────────────────┐␊
    │ 1. Running onSaveCache command from @netlify/plugin-cache-core │␊
    └────────────────────────────────────────────────────────────────┘␊
=======
     √  build.lifecycle.onBuild completed in 1ms␊
    ␊
    ┌──────────────────────────────────────────────────────────────────┐␊
    │ 3. Running onSaveCache lifecycle from @netlify/plugin-cache-core │␊
    └──────────────────────────────────────────────────────────────────┘␊
>>>>>>> test: update snapshots
    ␊
    > Caching artifacts␊
    ␊
     √  @netlify/plugin-cache-core.onSaveCache completed in 1ms␊
    ␊
    ┌─────────────────────────────┐␊
    │   Netlify Build Complete    │␊
    └─────────────────────────────┘␊
    ␊
     √  Netlify Build completed in 1ms␊
    ␊
    Have a nice day!␊
    `

<<<<<<< HEAD
## Environment variable buildbot fix
=======
## Empty configuration
>>>>>>> test: update snapshots

> Snapshot 1

    `> Starting Netlify Build v1.0.0␊
      https://github.com/netlify/build␊
    ␊
<<<<<<< HEAD
    Flags␊
=======
    Options␊
>>>>>>> test: update snapshots
    { config: '/file/path' }␊
    ␊
    > Using config file: /file/path␊
    ␊
    ␊
    > Loading plugins␊
      Loading plugin "@netlify/plugin-functions-core" from build core␊
      Loading plugin "@netlify/plugin-cache-core" from build core␊
    ␊
    > Running Netlify Build Lifecycle␊
      Found 2 commands. Lets do this!␊
    ␊
    ┌─────────────────────────────────────────────────────────────────────────┐␊
    │ 1. Running build.lifecycle.onBuild command from netlify.yml config file │␊
    └─────────────────────────────────────────────────────────────────────────┘␊
    ␊
    Running command "echo onBuild"␊
    onBuild␊
    ␊
     √  build.lifecycle.onBuild completed in 1ms␊
    ␊
    ┌────────────────────────────────────────────────────────────────┐␊
    │ 2. Running onSaveCache command from @netlify/plugin-cache-core │␊
    └────────────────────────────────────────────────────────────────┘␊
    ␊
    > Caching artifacts␊
    ␊
     √  @netlify/plugin-cache-core.onSaveCache completed in 1ms␊
    ␊
    ┌─────────────────────────────┐␊
    │   Netlify Build Complete    │␊
    └─────────────────────────────┘␊
    ␊
     √  Netlify Build completed in 1ms␊
    ␊
    Have a nice day!␊
    `

<<<<<<< HEAD
## No --config
=======
## Environment variable buildbot fix
>>>>>>> test: update snapshots

> Snapshot 1

    `> Starting Netlify Build v1.0.0␊
      https://github.com/netlify/build␊
    ␊
    > Using config file: /file/path␊
    ␊
    ␊
    > Loading plugins␊
      Loading plugin "@netlify/plugin-functions-core" from build core␊
      Loading plugin "@netlify/plugin-cache-core" from build core␊
    ␊
    > Running Netlify Build Lifecycle␊
<<<<<<< HEAD
      Found 1 command. Lets do this!␊
    ␊
    ┌────────────────────────────────────────────────────────────────┐␊
    │ 1. Running onSaveCache command from @netlify/plugin-cache-core │␊
    └────────────────────────────────────────────────────────────────┘␊
=======
      Found 2 steps. Lets do this!␊
    ␊
    ┌──────────────────────────────────────────────────────────────────────────────────────┐␊
    │ 1. Running onBuild lifecycle from build.lifecycle.onBuild in netlify.yml config file │␊
    └──────────────────────────────────────────────────────────────────────────────────────┘␊
    ␊
    Running command "echo onBuild"␊
    onBuild␊
    ␊
     √  build.lifecycle.onBuild completed in 1ms␊
    ␊
    ┌──────────────────────────────────────────────────────────────────┐␊
    │ 2. Running onSaveCache lifecycle from @netlify/plugin-cache-core │␊
    └──────────────────────────────────────────────────────────────────┘␊
>>>>>>> test: update snapshots
    ␊
    > Caching artifacts␊
    ␊
     √  @netlify/plugin-cache-core.onSaveCache completed in 1ms␊
    ␊
    ┌─────────────────────────────┐␊
    │   Netlify Build Complete    │␊
    └─────────────────────────────┘␊
    ␊
     √  Netlify Build completed in 1ms␊
    ␊
    Have a nice day!␊
    `

<<<<<<< HEAD
## No --config but none found
=======
## No --config
>>>>>>> test: update snapshots

> Snapshot 1

    `> Starting Netlify Build v1.0.0␊
      https://github.com/netlify/build␊
    ␊
<<<<<<< HEAD
    > No config file was defined: using default values.␊
=======
    > Using config file: /file/path␊
    ␊
>>>>>>> test: update snapshots
    ␊
    > Loading plugins␊
      Loading plugin "@netlify/plugin-functions-core" from build core␊
      Loading plugin "@netlify/plugin-cache-core" from build core␊
    ␊
    > Running Netlify Build Lifecycle␊
<<<<<<< HEAD
      Found 1 command. Lets do this!␊
    ␊
    ┌────────────────────────────────────────────────────────────────┐␊
    │ 1. Running onSaveCache command from @netlify/plugin-cache-core │␊
    └────────────────────────────────────────────────────────────────┘␊
=======
      Found 1 step. Lets do this!␊
    ␊
    ┌──────────────────────────────────────────────────────────────────┐␊
    │ 1. Running onSaveCache lifecycle from @netlify/plugin-cache-core │␊
    └──────────────────────────────────────────────────────────────────┘␊
>>>>>>> test: update snapshots
    ␊
    > Caching artifacts␊
    ␊
     √  @netlify/plugin-cache-core.onSaveCache completed in 1ms␊
    ␊
    ┌─────────────────────────────┐␊
    │   Netlify Build Complete    │␊
    └─────────────────────────────┘␊
    ␊
     √  Netlify Build completed in 1ms␊
    ␊
    Have a nice day!␊
    `

## No --config but none found

> Snapshot 1

    `> Starting Netlify Build v1.0.0␊
      https://github.com/netlify/build␊
    ␊
    > No config file was defined: using default values.␊
    ␊
    > Loading plugins␊
      Loading plugin "@netlify/plugin-functions-core" from build core␊
      Loading plugin "@netlify/plugin-cache-core" from build core␊
    ␊
    ┌─────────────────────────────┐␊
    │     Netlify Build Error     │␊
    └─────────────────────────────┘␊
    ␊
    Error loading "@netlify/plugin-functions-core" plugin:␊
    UncaughtException: an exception was thrown but not caught: Error: Not a git repository␊
    To compare two paths outside a working tree:␊
    usage: git diff [--no-index] <path> <path>␊
    ␊
    To compare two paths outside a working tree:␊
    usage: git diff [--no-index] <path> <path>␊
    ␊
    `
