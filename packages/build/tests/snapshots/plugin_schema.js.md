# Snapshot report for `packages/build/tests/plugin_schema.js`

The actual snapshot is saved in `plugin_schema.js.snap`.

Generated by [AVA](https://ava.li).

## plugin.schema is validated as a JSON schema 7

> Snapshot 1

    `> Starting Netlify Build v1.0.0␊
      https://github.com/netlify/build␊
    ␊
    Options␊
     { config: '/file/path' } ␊
    ␊
    > Using config file: /file/path␊
    ␊
    > Installing plugins dependencies␊
    ␊
    > Loading plugins␊
      Loading plugin "@netlify/plugin-functions-core" from build core␊
      Loading plugin from /file/path␊
    ␊
    ┌─────────────────────────────┐␊
    │    Netlify Build Error!     │␊
    └─────────────────────────────┘␊
    ␊
    Error loading "/file/path" plugin:␊
    Error: Plugin property 'schema.test' is not a valid JSON schema (version 7)␊
    (learn more about JSON schema at https://json-schema.org/understanding-json-schema/):␊
    type should be equal to one of the allowed values␊
    `

## plugin.schema is validated as an object

> Snapshot 1

    `> Starting Netlify Build v1.0.0␊
      https://github.com/netlify/build␊
    ␊
    Options␊
     { config: '/file/path' } ␊
    ␊
    > Using config file: /file/path␊
    ␊
    > Installing plugins dependencies␊
    ␊
    > Loading plugins␊
      Loading plugin "@netlify/plugin-functions-core" from build core␊
      Loading plugin from /file/path␊
    ␊
    ┌─────────────────────────────┐␊
    │    Netlify Build Error!     │␊
    └─────────────────────────────┘␊
    ␊
    Error loading "/file/path" plugin:␊
    Error: Property 'schema' must be an object␊
    `

## plugin.schema is validated as an object of objects

> Snapshot 1

    `> Starting Netlify Build v1.0.0␊
      https://github.com/netlify/build␊
    ␊
    Options␊
     { config: '/file/path' } ␊
    ␊
    > Using config file: /file/path␊
    ␊
    > Installing plugins dependencies␊
    ␊
    > Loading plugins␊
      Loading plugin "@netlify/plugin-functions-core" from build core␊
      Loading plugin from /file/path␊
    ␊
    ┌─────────────────────────────┐␊
    │    Netlify Build Error!     │␊
    └─────────────────────────────┘␊
    ␊
    Error loading "/file/path" plugin:␊
    Error: Property 'schema.test' must be an object␊
    `

## plugin.schema validates properties

> Snapshot 1

    `> Starting Netlify Build v1.0.0␊
      https://github.com/netlify/build␊
    ␊
    Options␊
     { config: '/file/path' } ␊
    ␊
    > Using config file: /file/path␊
    ␊
    > Installing plugins dependencies␊
    ␊
    > Loading plugins␊
      Loading plugin "@netlify/plugin-functions-core" from build core␊
      Loading plugin from /file/path␊
    ␊
    ┌─────────────────────────────┐␊
    │    Netlify Build Error!     │␊
    └─────────────────────────────┘␊
    ␊
    Error loading "/file/path" plugin:␊
    Error: Plugin 'config.test: false' is invalid:␊
    should be equal to one of the allowed values␊
    `

## plugin.schema validates unknown properties

> Snapshot 1

    `> Starting Netlify Build v1.0.0␊
      https://github.com/netlify/build␊
    ␊
    Options␊
     { config: '/file/path' } ␊
    ␊
    > Using config file: /file/path␊
    ␊
    > Installing plugins dependencies␊
    ␊
    > Loading plugins␊
      Loading plugin "@netlify/plugin-functions-core" from build core␊
      Loading plugin from /file/path␊
    ␊
    ┌─────────────────────────────┐␊
    │    Netlify Build Error!     │␊
    └─────────────────────────────┘␊
    ␊
    Error loading "/file/path" plugin:␊
    Error: Plugin config does not support any property named 'test'␊
    `

## plugin.schema works with undefined pluginConfig

> Snapshot 1

    `> Starting Netlify Build v1.0.0␊
      https://github.com/netlify/build␊
    ␊
    Options␊
     { config: '/file/path' } ␊
    ␊
    > Using config file: /file/path␊
    ␊
    > Installing plugins dependencies␊
    ␊
    > Loading plugins␊
      Loading plugin "@netlify/plugin-functions-core" from build core␊
      Loading plugin from /file/path␊
    ␊
    > Running Netlify Build Lifecycle␊
      Found 0 steps. Lets do this!␊
    ␊
    ┌─────────────────────────────┐␊
    │   Netlify Build Complete!   │␊
    └─────────────────────────────┘␊
    ␊
     √  Netlify Build completed in 1ms␊
    ␊
    (ﾉ◕ヮ◕)ﾉ*:･ﾟ✧ Have a nice day!␊
    `

## pluginConfig must be an object

> Snapshot 1

    `> Starting Netlify Build v1.0.0␊
      https://github.com/netlify/build␊
    ␊
    Options␊
     { config: '/file/path' } ␊
    ␊
    > Using config file: /file/path␊
    ␊
    > Installing plugins dependencies␊
    ␊
    > Loading plugins␊
      Loading plugin "@netlify/plugin-functions-core" from build core␊
      Loading plugin from /file/path␊
    ␊
    ┌─────────────────────────────┐␊
    │    Netlify Build Error!     │␊
    └─────────────────────────────┘␊
    ␊
    Error loading "/file/path" plugin:␊
    Error: Plugin 'config' must be an object␊
    `
