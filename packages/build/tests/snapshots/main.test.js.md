# Snapshot report for `packages/build/tests/main.test.js`

The actual snapshot is saved in `main.test.js.snap`.

Generated by [AVA](https://ava.li).

## --config

> Snapshot 1

    `❯ Starting Netlify Build␊
      https://github.com/netlify/build␊
    ␊
    Options␊
      {␊
      config: '/file/path'␊
    }␊
    ␊
    ❯ Using config file:␊
      /file/path␊
    ␊
    ❯ Loading plugins␊
    ␊
    ❯ Running Netlify Build Lifecycle␊
      Found 1 step. Lets do this!␊
    ␊
    ┌───────────────────────────────────────────────────────────────┐␊
    │ 1. Running buildFunctions lifecycle from @netlify/functions   │␊
    └───────────────────────────────────────────────────────────────┘␊
    ␊
    No functions directory set. Skipping functions build step␊
    ␊
     ✔  @netlify/functions.buildFunctions completed in 1ms␊
    ␊
    ┌─────────────────────────────┐␊
    │   Netlify Build Complete!   │␊
    └─────────────────────────────┘␊
    ␊
     ✔  Netlify Build completed in 1ms␊
    ␊
    (ﾉ◕ヮ◕)ﾉ*:･ﾟ✧ Have a nice day!␊
    `

## --config with an invalid path

> Snapshot 1

    `❯ Starting Netlify Build␊
      https://github.com/netlify/build␊
    ␊
    Options␊
      { config: 'invalid' }␊
    ␊
    ❯ Using config file:␊
      invalid␊
    ␊
    ␊
    ┌─────────────────────────────┐␊
    │    Netlify Build Error!     │␊
    └─────────────────────────────┘␊
     Netlify configuration error:␊
    Configuration file does not exist: /file/path␊
    ␊
    ┌─────────────────────────────┐␊
    │      Error Stack Trace      │␊
    └─────────────────────────────┘␊
    STACK TRACE␊
     Set environment variable ERROR_VERBOSE=true for deep traces␊
    `

## Can override plugins

> Snapshot 1

    `❯ Starting Netlify Build␊
      https://github.com/netlify/build␊
    ␊
    Options␊
      {␊
      config: '/file/path'␊
    }␊
    ␊
    ❯ Using config file:␊
      /file/path␊
    ␊
    ❯ Loading plugins␊
      Loading plugin "example" from example␊
      Loading plugin "exampleOverride" from /file/path␊
    ␊
    ❯ Running Netlify Build Lifecycle␊
      Found 2 steps. Lets do this!␊
    ␊
    ❯ OVERRIDE: "init" method in "example" has been overriden by "exampleOverride"␊
    ┌──────────────────────────────────────────────────┐␊
    │ 1. Running init lifecycle from exampleOverride   │␊
    └──────────────────────────────────────────────────┘␊
    ␊
    Overridden init␊
    ␊
     ✔  exampleOverride.init completed in 1ms␊
    ␊
    ┌───────────────────────────────────────────────────────────────┐␊
    │ 2. Running buildFunctions lifecycle from @netlify/functions   │␊
    └───────────────────────────────────────────────────────────────┘␊
    ␊
    No functions directory set. Skipping functions build step␊
    ␊
     ✔  @netlify/functions.buildFunctions completed in 1ms␊
    ␊
    ┌─────────────────────────────┐␊
    │   Netlify Build Complete!   │␊
    └─────────────────────────────┘␊
    ␊
     ✔  Netlify Build completed in 1ms␊
    ␊
    (ﾉ◕ヮ◕)ﾉ*:･ﾟ✧ Have a nice day!␊
    `

## Empty configuration

> Snapshot 1

    `❯ Starting Netlify Build␊
      https://github.com/netlify/build␊
    ␊
    Options␊
      {␊
      config: '/file/path'␊
    }␊
    ␊
    ❯ Using config file:␊
      /file/path␊
    ␊
    ❯ Loading plugins␊
    ␊
    ❯ Running Netlify Build Lifecycle␊
      Found 1 step. Lets do this!␊
    ␊
    ┌───────────────────────────────────────────────────────────────┐␊
    │ 1. Running buildFunctions lifecycle from @netlify/functions   │␊
    └───────────────────────────────────────────────────────────────┘␊
    ␊
    No functions directory set. Skipping functions build step␊
    ␊
     ✔  @netlify/functions.buildFunctions completed in 1ms␊
    ␊
    ┌─────────────────────────────┐␊
    │   Netlify Build Complete!   │␊
    └─────────────────────────────┘␊
    ␊
     ✔  Netlify Build completed in 1ms␊
    ␊
    (ﾉ◕ヮ◕)ﾉ*:･ﾟ✧ Have a nice day!␊
    `

## Smoke test

> Snapshot 1

    `❯ Starting Netlify Build␊
      https://github.com/netlify/build␊
    ␊
    Options␊
      {␊
      config: '/file/path'␊
    }␊
    ␊
    ❯ Using config file:␊
      /file/path␊
    ␊
    ❯ Loading plugins␊
      Loading plugin "notifier" from /file/path␊
    No notices found on @netlify/plugin-notifier plugin config␊
    ␊
    ❯ Running Netlify Build Lifecycle␊
      Found 5 steps. Lets do this!␊
    ␊
    ┌──────────────────────────────────────────────────────────────────────────────────┐␊
    │ 1. Running init lifecycle from build.lifecycle.init in netlify.yml config file   │␊
    └──────────────────────────────────────────────────────────────────────────────────┘␊
    ␊
    Running command "export VALUE=test"␊
    Running command "echo "$VALUE""␊
    ␊
    ␊
     ✔  build.lifecycle.init completed in 1ms␊
    ␊
    ┌──────────────────────────────────────────────────────────────────────────────────────────┐␊
    │ 2. Running getCache lifecycle from build.lifecycle.getCache in netlify.yml config file   │␊
    └──────────────────────────────────────────────────────────────────────────────────────────┘␊
    ␊
    Running command "echo 'curl custom cache'"␊
    curl custom cache␊
    ␊
     ✔  build.lifecycle.getCache completed in 1ms␊
    ␊
    ┌──────────────────────────────────────────────────────────────────────────────────────────┐␊
    │ 3. Running preBuild lifecycle from build.lifecycle.preBuild in netlify.yml config file   │␊
    └──────────────────────────────────────────────────────────────────────────────────────────┘␊
    ␊
    Running command "echo "shhhhhhh""␊
    shhhhhhh␊
    ␊
     ✔  build.lifecycle.preBuild completed in 1ms␊
    ␊
    ┌────────────────────────────────────────────────────────────────────────────────────┐␊
    │ 4. Running build lifecycle from build.lifecycle.build in netlify.yml config file   │␊
    └────────────────────────────────────────────────────────────────────────────────────┘␊
    ␊
    Running command "npm run build"␊
    ␊
    > smoke-test@VERSION build /file/path␊
    > echo build␊
    ␊
    build␊
    ␊
     ✔  build.lifecycle.build completed in 1ms␊
    ␊
    ┌───────────────────────────────────────────────────────────────┐␊
    │ 5. Running buildFunctions lifecycle from @netlify/functions   │␊
    └───────────────────────────────────────────────────────────────┘␊
    ␊
    No functions directory set. Skipping functions build step␊
    ␊
     ✔  @netlify/functions.buildFunctions completed in 1ms␊
    ␊
    ┌─────────────────────────────┐␊
    │   Netlify Build Complete!   │␊
    └─────────────────────────────┘␊
    ␊
     ✔  Netlify Build completed in 1ms␊
    ␊
    (ﾉ◕ヮ◕)ﾉ*:･ﾟ✧ Have a nice day!␊
    `

## {context:...}

> Snapshot 1

    `❯ Starting Netlify Build␊
      https://github.com/netlify/build␊
    ␊
    Options␊
      {␊
      config: '/file/path'␊
    }␊
    ␊
    ❯ Using config file:␊
      /file/path␊
    ␊
    ❯ Loading plugins␊
    ␊
    ❯ Running Netlify Build Lifecycle␊
      Found 2 steps. Lets do this!␊
    ␊
    ┌────────────────────────────────────────────────────────────────────────────────────┐␊
    │ 1. Running build lifecycle from build.lifecycle.build in netlify.yml config file   │␊
    └────────────────────────────────────────────────────────────────────────────────────┘␊
    ␊
    Running command "echo prod"␊
    prod␊
    ␊
     ✔  build.lifecycle.build completed in 1ms␊
    ␊
    ┌───────────────────────────────────────────────────────────────┐␊
    │ 2. Running buildFunctions lifecycle from @netlify/functions   │␊
    └───────────────────────────────────────────────────────────────┘␊
    ␊
    No functions directory set. Skipping functions build step␊
    ␊
     ✔  @netlify/functions.buildFunctions completed in 1ms␊
    ␊
    ┌─────────────────────────────┐␊
    │   Netlify Build Complete!   │␊
    └─────────────────────────────┘␊
    ␊
     ✔  Netlify Build completed in 1ms␊
    ␊
    (ﾉ◕ヮ◕)ﾉ*:･ﾟ✧ Have a nice day!␊
    `

## {context:...} pointing to undefined path

> Snapshot 1

    `❯ Starting Netlify Build␊
      https://github.com/netlify/build␊
    ␊
    Options␊
      {␊
      config: '/file/path',␊
      context: 'invalid'␊
    }␊
    ␊
    ❯ Using config file:␊
      /file/path␊
    ␊
    No config attribute found to satisfy the '${self:context.invalid.testProp}' variable. Attempting fallback value␊
    ❯ Loading plugins␊
    ␊
    ❯ Running Netlify Build Lifecycle␊
      Found 2 steps. Lets do this!␊
    ␊
    ┌────────────────────────────────────────────────────────────────────────────────────┐␊
    │ 1. Running build lifecycle from build.lifecycle.build in netlify.yml config file   │␊
    └────────────────────────────────────────────────────────────────────────────────────┘␊
    ␊
    Running command "echo {}"␊
    {}␊
    ␊
     ✔  build.lifecycle.build completed in 1ms␊
    ␊
    ┌───────────────────────────────────────────────────────────────┐␊
    │ 2. Running buildFunctions lifecycle from @netlify/functions   │␊
    └───────────────────────────────────────────────────────────────┘␊
    ␊
    No functions directory set. Skipping functions build step␊
    ␊
     ✔  @netlify/functions.buildFunctions completed in 1ms␊
    ␊
    ┌─────────────────────────────┐␊
    │   Netlify Build Complete!   │␊
    └─────────────────────────────┘␊
    ␊
     ✔  Netlify Build completed in 1ms␊
    ␊
    (ﾉ◕ヮ◕)ﾉ*:･ﾟ✧ Have a nice day!␊
    `

## {context:...} with --context

> Snapshot 1

    `❯ Starting Netlify Build␊
      https://github.com/netlify/build␊
    ␊
    Options␊
      {␊
      config: '/file/path',␊
      context: 'development'␊
    }␊
    ␊
    ❯ Using config file:␊
      /file/path␊
    ␊
    ❯ Loading plugins␊
    ␊
    ❯ Running Netlify Build Lifecycle␊
      Found 2 steps. Lets do this!␊
    ␊
    ┌────────────────────────────────────────────────────────────────────────────────────┐␊
    │ 1. Running build lifecycle from build.lifecycle.build in netlify.yml config file   │␊
    └────────────────────────────────────────────────────────────────────────────────────┘␊
    ␊
    Running command "echo dev"␊
    dev␊
    ␊
     ✔  build.lifecycle.build completed in 1ms␊
    ␊
    ┌───────────────────────────────────────────────────────────────┐␊
    │ 2. Running buildFunctions lifecycle from @netlify/functions   │␊
    └───────────────────────────────────────────────────────────────┘␊
    ␊
    No functions directory set. Skipping functions build step␊
    ␊
     ✔  @netlify/functions.buildFunctions completed in 1ms␊
    ␊
    ┌─────────────────────────────┐␊
    │   Netlify Build Complete!   │␊
    └─────────────────────────────┘␊
    ␊
     ✔  Netlify Build completed in 1ms␊
    ␊
    (ﾉ◕ヮ◕)ﾉ*:･ﾟ✧ Have a nice day!␊
    `

## {env:...}

> Snapshot 1

    `❯ Starting Netlify Build␊
      https://github.com/netlify/build␊
    ␊
    Options␊
      {␊
      config: '/file/path'␊
    }␊
    ␊
    ❯ Using config file:␊
      /file/path␊
    ␊
    ❯ Loading plugins␊
    ␊
    ❯ Running Netlify Build Lifecycle␊
      Found 2 steps. Lets do this!␊
    ␊
    ┌────────────────────────────────────────────────────────────────────────────────────┐␊
    │ 1. Running build lifecycle from build.lifecycle.build in netlify.yml config file   │␊
    └────────────────────────────────────────────────────────────────────────────────────┘␊
    ␊
    Running command "echo test"␊
    test␊
    ␊
     ✔  build.lifecycle.build completed in 1ms␊
    ␊
    ┌───────────────────────────────────────────────────────────────┐␊
    │ 2. Running buildFunctions lifecycle from @netlify/functions   │␊
    └───────────────────────────────────────────────────────────────┘␊
    ␊
    No functions directory set. Skipping functions build step␊
    ␊
     ✔  @netlify/functions.buildFunctions completed in 1ms␊
    ␊
    ┌─────────────────────────────┐␊
    │   Netlify Build Complete!   │␊
    └─────────────────────────────┘␊
    ␊
     ✔  Netlify Build completed in 1ms␊
    ␊
    (ﾉ◕ヮ◕)ﾉ*:･ﾟ✧ Have a nice day!␊
    `

## {secrets:...}

> Snapshot 1

    `❯ Starting Netlify Build␊
      https://github.com/netlify/build␊
    ␊
    Options␊
      {␊
      config: '/file/path'␊
    }␊
    ␊
    ❯ Using config file:␊
      /file/path␊
    ␊
    ❯ Loading plugins␊
    ␊
    ❯ Running Netlify Build Lifecycle␊
      Found 2 steps. Lets do this!␊
    ␊
    ┌────────────────────────────────────────────────────────────────────────────────────┐␊
    │ 1. Running build lifecycle from build.lifecycle.build in netlify.yml config file   │␊
    └────────────────────────────────────────────────────────────────────────────────────┘␊
    ␊
    Running command "echo shhhhhhh"␊
    shhhhhhh␊
    ␊
     ✔  build.lifecycle.build completed in 1ms␊
    ␊
    ┌───────────────────────────────────────────────────────────────┐␊
    │ 2. Running buildFunctions lifecycle from @netlify/functions   │␊
    └───────────────────────────────────────────────────────────────┘␊
    ␊
    No functions directory set. Skipping functions build step␊
    ␊
     ✔  @netlify/functions.buildFunctions completed in 1ms␊
    ␊
    ┌─────────────────────────────┐␊
    │   Netlify Build Complete!   │␊
    └─────────────────────────────┘␊
    ␊
     ✔  Netlify Build completed in 1ms␊
    ␊
    (ﾉ◕ヮ◕)ﾉ*:･ﾟ✧ Have a nice day!␊
    `
