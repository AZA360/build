# Snapshot report for `packages/build/tests/plugins/validate/tests.js`

The actual snapshot is saved in `tests.js.snap`.

Generated by [AVA](https://ava.li).

## Validate plugin is an object

> Snapshot 1

    `> Starting Netlify Build v1.0.0␊
      https://github.com/netlify/build␊
    ␊
    Options␊
    { config: '/file/path' }␊
    ␊
    > Using config file: /file/path␊
    ␊
    ␊
    > Loading plugins␊
      Loading plugin "@netlify/plugin-functions-core" from build core␊
      Loading plugin "@netlify/plugin-cache-core" from build core␊
      Loading plugin from /file/path␊
    ␊
    ┌─────────────────────────────┐␊
    │     Netlify Build Error     │␊
    └─────────────────────────────┘␊
    ␊
    Error loading "/file/path" plugin:␊
    Error: Plugin must be an object or a function␊
    `

## Validate plugin lifecycle names

> Snapshot 1

    `> Starting Netlify Build v1.0.0␊
      https://github.com/netlify/build␊
    ␊
    Options␊
    { config: '/file/path' }␊
    ␊
    > Using config file: /file/path␊
    ␊
    ␊
    > Loading plugins␊
      Loading plugin "@netlify/plugin-functions-core" from build core␊
      Loading plugin "@netlify/plugin-cache-core" from build core␊
      Loading plugin from /file/path␊
    ␊
    ┌─────────────────────────────┐␊
    │     Netlify Build Error     │␊
    └─────────────────────────────┘␊
    ␊
    Error loading "/file/path" plugin:␊
    Error: Invalid lifecycle hook 'onInvalid'.␊
    Please use a valid event name. One of:␊
     - init␊
     - preGetCache␊
     - getCache␊
     - postGetCache␊
     - preInstall␊
     - install␊
     - postInstall␊
     - preBuild␊
     - build␊
     - postBuild␊
     - preFunctionsBuild␊
     - functionsBuild␊
     - postFunctionsBuild␊
     - prePackage␊
     - package␊
     - postPackage␊
     - preDeploy␊
     - preSaveCache␊
     - saveCache␊
     - postSaveCache␊
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
     - success␊
     - error␊
     - end␊
=======
=======
>>>>>>> Fix tests
     - onSuccess␊
     - onError␊
     - onEnd␊
=======
    Error loading "@netlify/plugin-functions-core" plugin:␊
=======
    Error loading "/file/path" plugin:␊
>>>>>>> Fix test snapshots
    TypeError [ERR_INVALID_ARG_TYPE]: The "path" argument must be of type string. Received type undefined␊
>>>>>>> Save cache after build
<<<<<<< HEAD
>>>>>>> Save cache after build
=======
=======
     - finally␊
     - onError␊
>>>>>>> Fix tests
>>>>>>> Fix tests
=======
     - onSuccess␊
     - onError␊
     - onEnd␊
>>>>>>> Fix test snapshots
    `

## Validate plugin property names

> Snapshot 1

    `> Starting Netlify Build v1.0.0␊
      https://github.com/netlify/build␊
    ␊
    Options␊
    { config: '/file/path' }␊
    ␊
    > Using config file: /file/path␊
    ␊
    ␊
    > Loading plugins␊
      Loading plugin "@netlify/plugin-functions-core" from build core␊
      Loading plugin "@netlify/plugin-cache-core" from build core␊
      Loading plugin from /file/path␊
    ␊
    ┌─────────────────────────────┐␊
    │     Netlify Build Error     │␊
    └─────────────────────────────┘␊
    ␊
    Error loading "/file/path" plugin:␊
    Error: Invalid property 'invalid'.␊
    Please use a property name. One of:␊
     - name␊
     - scopes␊
     - config␊
    `

## Validate plugin.name is a string

> Snapshot 1

    `> Starting Netlify Build v1.0.0␊
      https://github.com/netlify/build␊
    ␊
    Options␊
    { config: '/file/path' }␊
    ␊
    > Using config file: /file/path␊
    ␊
    ␊
    > Loading plugins␊
      Loading plugin "@netlify/plugin-functions-core" from build core␊
      Loading plugin "@netlify/plugin-cache-core" from build core␊
      Loading plugin from /file/path␊
    ␊
    ┌─────────────────────────────┐␊
    │     Netlify Build Error     │␊
    └─────────────────────────────┘␊
    ␊
    Error loading "/file/path" plugin:␊
    Error: Property 'name' must be a string␊
    `

## Validate plugin.name is required

> Snapshot 1

    `> Starting Netlify Build v1.0.0␊
      https://github.com/netlify/build␊
    ␊
    Options␊
    { config: '/file/path' }␊
    ␊
    > Using config file: /file/path␊
    ␊
    ␊
    > Loading plugins␊
      Loading plugin "@netlify/plugin-functions-core" from build core␊
      Loading plugin "@netlify/plugin-cache-core" from build core␊
      Loading plugin from /file/path␊
    ␊
    ┌─────────────────────────────┐␊
    │     Netlify Build Error     │␊
    └─────────────────────────────┘␊
    ␊
    Error loading "/file/path" plugin:␊
    Error: Missing required property 'name'␊
    `

## Validate plugin.scopes is valid

> Snapshot 1

    `> Starting Netlify Build v1.0.0␊
      https://github.com/netlify/build␊
    ␊
    Options␊
    { config: '/file/path' }␊
    ␊
    > Using config file: /file/path␊
    ␊
    ␊
    > Loading plugins␊
      Loading plugin "@netlify/plugin-functions-core" from build core␊
      Loading plugin "@netlify/plugin-cache-core" from build core␊
      Loading plugin from /file/path␊
    ␊
    ┌─────────────────────────────┐␊
    │     Netlify Build Error     │␊
    └─────────────────────────────┘␊
    ␊
    Error loading "/file/path" plugin:␊
    Error: Invalid scope "invalid"␊
    Please use a valid scope. One of:␊
     - *␊
     - listSites␊
     - createSite␊
     - getSite␊
     - updateSite␊
     - deleteSite␊
     - provisionSiteTLSCertificate␊
     - showSiteTLSCertificate␊
     - listSiteForms␊
     - listSiteSubmissions␊
     - listSiteFiles␊
     - listSiteAssets␊
     - createSiteAsset␊
     - getSiteAssetInfo␊
     - updateSiteAsset␊
     - deleteSiteAsset␊
     - getSiteAssetPublicSignature␊
     - getSiteFileByPathName␊
     - listSiteSnippets␊
     - createSiteSnippet␊
     - getSiteSnippet␊
     - updateSiteSnippet␊
     - deleteSiteSnippet␊
     - getSiteMetadata␊
     - updateSiteMetadata␊
     - listSiteBuildHooks␊
     - createSiteBuildHook␊
     - getSiteBuildHook␊
     - updateSiteBuildHook␊
     - deleteSiteBuildHook␊
     - listSiteDeploys␊
     - createSiteDeploy␊
     - getSiteDeploy␊
     - updateSiteDeploy␊
     - restoreSiteDeploy␊
     - listSiteBuilds␊
     - createSiteBuild␊
     - listSiteDeployedBranches␊
     - getSiteBuild␊
     - updateSiteBuildLog␊
     - notifyBuildStart␊
     - getDNSForSite␊
     - configureDNSForSite␊
     - getDeploy␊
     - lockDeploy␊
     - unlockDeploy␊
     - uploadDeployFile␊
     - uploadDeployFunction␊
     - listForms␊
     - listFormSubmissions␊
     - listHooksBySiteId␊
     - createHookBySiteId␊
     - getHook␊
     - updateHook␊
     - deleteHookBySiteId␊
     - enableHook␊
     - listHookTypes␊
     - createTicket␊
     - showTicket␊
     - exchangeTicket␊
     - listDeployKeys␊
     - createDeployKey␊
     - getDeployKey␊
     - deleteDeployKey␊
     - createSiteInTeam␊
     - listSitesForAccount␊
     - listMembersForAccount␊
     - addMemberToAccount␊
     - listPaymentMethodsForUser␊
     - listAccountTypesForUser␊
     - listAccountsForUser␊
     - createAccount␊
     - getAccount␊
     - updateAccount␊
     - cancelAccount␊
     - listAccountAuditEvents␊
     - listFormSubmission␊
     - deleteSubmission␊
     - createServiceInstance␊
     - showServiceInstance␊
     - updateServiceInstance␊
     - deleteServiceInstance␊
     - getServices␊
     - showService␊
     - showServiceManifest␊
     - getCurrentUser␊
    `
